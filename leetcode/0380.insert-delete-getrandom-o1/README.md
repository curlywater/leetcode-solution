---
title: 380. 常数时间插入、删除和获取随机元素
date: "2020-11-24"
topic: 数组
---
# 题目描述
设计一个支持在平均 时间复杂度 O(1) 下，执行以下操作的数据结构。
- insert(val)：当元素 val 不存在时，向集合中插入该项。
- remove(val)：元素 val 存在时，从集合中移除该项。
- getRandom：随机返回现有集合中的一项。每个元素应该有相同的概率被返回。

来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/insert-delete-getrandom-o1


# 解题思路

如果想高效地，等概率地随机获取元素，就要使用数组作为底层容器。

数组中含有「空洞」（黑名单数字），也可以利用哈希表巧妙处理映射关系，让数组在逻辑上是紧凑的，方便随机取元素。

O(1)复杂度的删除可以使用和末尾元素置换再pop的方式实现。